containers:

  ${CRANE}_data:
    dockerfile: odoo/Dockerfile
    image: tebanep/odoo
    run:
    detach: True

  ${CRANE}_db:
    dockerfile: odoo/Dockerfile
    image: tebanep/odoo
    run:
      publish:
        - "5032:5432"
      volumes-from:
        - ${CRANE}_data
      cmd: ["/init.py", "--postgresql"]
      detach: True

  ${CRANE}_odoo:
    dockerfile: odoo/Dockerfile
    image: tebanep/odoo
    run:
      link:
        - ${CRANE}_db:db
      publish:
        - "8069:8069"
      volumes-from:
        - ${CRANE}_data
      cmd: ["/init.py", "--bash"]
      detach: True

#groups:
#  solopor: ["data", "odoo", "db"]
#  servagro: ["data", "odoo", "db"]
#  servagro_data: ["data"]
#  servagro_odoo: ["odoo"]
#  servagro_postgresql: ["db"]


#  odoo_monolithic:
#    dockerfile: odoo/Dockerfile
#    image: tebanep/odoo
#    run:
#      publish:
#        - "5032:5432"
#        - "8069:8069"
#      cmd: ["/init.py", "--all"]
#      detach: True






